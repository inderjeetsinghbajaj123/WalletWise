# Budget Forecasting & Smart Suggest Feature

This document explains how the **Predictive Budget Forecasting** and **Smart Suggest** features work in WalletWise.

## üöÄ Overview

The feature leverages historical transaction data to provide students with actionable financial insights. It consists of two main parts:
1.  **Smart Suggest**: Automatically generates a budget based on historical spending.
2.  **Forecast Insights**: Provides real-time alerts if current spending trends indicate a potential overspend.

## üß† Core Algorithm: How it Works

### 1. Data Aggregation (Backend)
The backend (`analyticsController.js`) uses a MongoDB aggregation pipeline to analyze the last **3 months** of spending:
- **Historical Average**: Calculates the average monthly spending per category.
- **Trend Detection**: Compares the last month's spending to the 3-month average to determine if spending is "increasing" or "decreasing".
- **Prediction**: Predicts next month's spending by applying a slight buffer (5%) to the historical average to account for inflation or unexpected costs.

### 2. Spending Velocity (Real-time)
To provide real-time alerts, the system calculates a **Month Completion Ratio**:
- `Ratio = Current Day / Days in Month`
- **Projected Total**: `Current Spent / Ratio`
- If the **Projected Total** exceeds the **Historical Average** by more than **20%**, the system triggers a **Velocity Alert**.

## üõ†Ô∏è Components

### ‚ú® Smart Suggest (`SetBudget.jsx`)
- Fetches the predicted values from `/api/analytics/forecast`.
- Populates the total budget and distributes it across categories based on the forecast.
- **Auto-Correction**: Ensures the sum of category percentages always equals exactly 100%.

### ‚ö° Forecast Insights (`Budget.jsx`)
- Displays proactive warnings on the main budget dashboard.
- Uses the project velocity to warn users *before* they actually overspend.
- Visualized as responsive cards with semantic status colors.

## üì¶ Technical Stack
- **Backend**: Node.js, Express, MongoDB (Aggregations).
- **Frontend**: React, Chart.js, CSS3 (Theme-aware).
- **API**: Centralized `api` client with error handling.

---
*Generated by WalletWise AI Assistant*
